{"version":3,"sources":["../../src/util/sorter.js"],"names":["Sorter","options","rows","concat","sort","rowA","rowB","value","_sortValueFor","sortMultiplier","index","multiplier","column","sortColumn","name","localeCompare","cells"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wBAAaA,M;AACX,wBAAaC,OAAb,EAAsB;AAAA;;AACpB,eAAKA,OAAL,GAAeA,OAAf;AACD;;;;+BAEKC,I,EAAM;AAAA;;AACV,mBAAOA,KAAKC,MAAL,GAAcC,IAAd,CAAmB,UAACC,IAAD,EAAOC,IAAP,EAAgB;AACxC,kBAAIC,QAAQ,MAAKC,aAAL,CAAmBH,IAAnB,EAAyBC,IAAzB,CAAZ;AACA,qBAAO,MAAKL,OAAL,CAAaQ,cAAb,GAA8BF,KAArC;AACD,aAHM,CAAP;AAID;;;iCAEOG,K,EAAO;AACb,gBAAIC,aAAa,KAAKV,OAAL,CAAaQ,cAA9B;AACA,gBAAIG,SAAS,KAAKX,OAAL,CAAaY,UAA1B;;AAEA,gBAAID,WAAWF,KAAf,EAAsB;AACpB,mBAAKT,OAAL,CAAaY,UAAb,GAA0BH,KAA1B;AACD,aAFD,MAEO;AACL,mBAAKT,OAAL,CAAaQ,cAAb,GAA8BE,aAAa,CAAC,CAA5C;AACD;AACF;;;+BAEKD,K,EAAO;AACX,gBAAI,KAAKT,OAAL,CAAaY,UAAb,KAA4BH,KAAhC,EAAuC;AAAE,qBAAO,IAAP;AAAa;;AAEtD,gBAAI,KAAKT,OAAL,CAAaQ,cAAb,KAAgC,CAApC,EAAuC;AACrC,qBAAO,gBAAP;AACD,aAFD,MAEO;AACL,qBAAO,iBAAP;AACD;AACF;;;wCAEcJ,I,EAAMC,I,EAAM;AACzB,gBAAIM,SAAS,KAAKX,OAAL,CAAaY,UAA1B;;AAEA,gBAAID,WAAW,CAAC,CAAhB,EAAmB;AACjB,qBAAOP,KAAKS,IAAL,CAAUC,aAAV,CAAwBT,KAAKQ,IAA7B,CAAP;AACD,aAFD,MAEO;AACL,qBAAOT,KAAKW,KAAL,CAAWJ,MAAX,EAAmB,CAAnB,IAAwBN,KAAKU,KAAL,CAAWJ,MAAX,EAAmB,CAAnB,CAA/B;AACD;AACF","file":"sorter.js","sourcesContent":["export class Sorter {\n  constructor (options) {\n    this.options = options\n  }\n\n  sort (rows) {\n    return rows.concat().sort((rowA, rowB) => {\n      var value = this._sortValueFor(rowA, rowB)\n      return this.options.sortMultiplier * value\n    })\n  }\n\n  toggle (index) {\n    var multiplier = this.options.sortMultiplier\n    var column = this.options.sortColumn\n\n    if (column !== index) {\n      this.options.sortColumn = index\n    } else {\n      this.options.sortMultiplier = multiplier * -1\n    }\n  }\n\n  icon (index) {\n    if (this.options.sortColumn !== index) { return null }\n\n    if (this.options.sortMultiplier === 1) {\n      return 'fa fa-sort-asc'\n    } else {\n      return 'fa fa-sort-desc'\n    }\n  }\n\n  _sortValueFor (rowA, rowB) {\n    var column = this.options.sortColumn\n\n    if (column === -1) {\n      return rowA.name.localeCompare(rowB.name)\n    } else {\n      return rowA.cells[column][0] - rowB.cells[column][0]\n    }\n  }\n}\n"]}